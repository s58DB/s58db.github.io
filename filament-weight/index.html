<!DOCTYPE html>
<html lang="sl">
<head>
<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Moj kalkulator</title>
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>

<h2>Kalkulator teže in dolžine filamenta</h2>

<label for="company">Podjetje:</label>
<select id="company">
    <option value="245">Prusament (245g)</option>
    <option value="210">eSun (210g)</option>
    <option value="190">Sunlu (190g)</option>
    <option value="230">Polymaker (230g)</option>
    <option value="200">Generic (200g)</option>
    <option value="200">AzureFilm (200g)</option>
    <option value="200">3DTrcek (200g)</option>
</select>

<label for="material">Material:</label>
<select id="material">
    <option value="1.24">PLA (1.24 g/cm³)</option>
    <option value="1.27">PETG (1.27 g/cm³)</option>
    <option value="1.04">ABS (1.04 g/cm³)</option>
    <option value="1.07">ASA (1.07 g/cm³)</option>
    <option value="1.15">Nylon (1.15 g/cm³)</option>
</select>

<label for="totalWeight">Skupna masa koluta (g):</label>
<input type="number" id="totalWeight" placeholder="npr. 800">

<button onclick="calculate()">Izračunaj</button>

<div class="result" id="result"></div>

<script>
function calculate() {
    const spoolWeight = parseFloat(document.getElementById("company").value);
    const density = parseFloat(document.getElementById("material").value);
    const totalWeight = parseFloat(document.getElementById("totalWeight").value);

    if (isNaN(totalWeight) || totalWeight <= spoolWeight) {
        document.getElementById("result").innerHTML = "Vnesi veljavno skupno maso (večjo od mase koluta).";
        return;
    }

    const filamentWeight = totalWeight - spoolWeight;

    // Premer filamentu (mm) -> pretvorba v cm
    const diameter = 1.75 / 10; // 0.175 cm
    const radius = diameter / 2;
    const crossSectionArea = Math.PI * radius * radius; // cm²

    // Volumen v cm³
    const volume = filamentWeight / density;

    // Dolžina v cm
    const lengthCm = volume / crossSectionArea;

    // Pretvorba v metre
    const lengthM = lengthCm / 100;

    document.getElementById("result").innerHTML =
        `Masa filamenta: ${filamentWeight.toFixed(1)} g<br>` +
        `Približna dolžina: ${lengthM.toFixed(2)} m`;
}
</script>

</body>
</html>
